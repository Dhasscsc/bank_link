<!DOCTYPE html>
<html lang="ta">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>роЖродро╛ро░рпН-ро╡роЩрпНроХро┐ роХрогроХрпНроХрпБ роЗрогрпИрокрпНрокрпБ роЪрпЗро╡рпИ - родро╛ро╕рпН рокрпКродрпБ роЪрпЗро╡рпИ роорпИропроорпН</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', 'Nirmala UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: #f5f7fa;
            min-height: 100vh;
            padding: 15px;
            line-height: 1.5;
            color: #333;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            position: relative;
        }
        
        .header {
            text-align: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #1976D2;
        }
        
        .shop-name {
            color: #1976D2;
            font-size: 28px;
            margin-bottom: 8px;
            font-weight: 700;
        }
        
        .accreditation {
            color: #D32F2F;
            font-size: 16px;
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .tagline {
            color: #0D47A1;
            font-size: 18px;
            font-weight: 600;
        }
        
        .instructions {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #2196F3;
            font-size: 14px;
        }
        
        .instructions h3 {
            color: #0D47A1;
            margin-bottom: 10px;
            font-size: 16px;
        }
        
        .instructions ul {
            margin-left: 20px;
            color: #1565C0;
        }
        
        .instructions li {
            margin-bottom: 5px;
        }
        
        .form-section {
            margin-bottom: 20px;
        }
        
        .section-title {
            color: #1976D2;
            font-size: 18px;
            margin-bottom: 15px;
            padding-bottom: 5px;
            border-bottom: 1px solid #bbdefb;
            font-weight: 600;
        }
        
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 6px;
            font-weight: 600;
            color: #0D47A1;
            font-size: 14px;
        }
        
        input, select {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #bbdefb;
            border-radius: 6px;
            font-size: 14px;
            transition: all 0.2s;
        }
        
        input:focus, select:focus {
            border-color: #2196F3;
            outline: none;
            box-shadow: 0 0 0 2px rgba(33, 150, 243, 0.1);
        }
        
        .input-group {
            display: flex;
            gap: 8px;
        }
        
        .input-group input {
            flex: 1;
        }
        
        .verify-btn {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            font-size: 13px;
            min-width: 80px;
            white-space: nowrap;
        }
        
        .button-group {
            display: flex;
            gap: 10px;
            margin: 25px 0 15px;
            flex-wrap: wrap;
        }
        
        button {
            flex: 1;
            min-width: 160px;
            padding: 12px 15px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .check-btn {
            background: #2196F3;
            color: white;
        }
        
        .check-btn:hover {
            background: #1976D2;
        }
        
        .link-btn {
            background: #4CAF50;
            color: white;
        }
        
        .link-btn:hover {
            background: #388E3C;
        }
        
        .receipt-btn {
            background: #FF9800;
            color: white;
        }
        
        .receipt-btn:hover {
            background: #F57C00;
        }
        
        .pdf-btn {
            background: #F44336;
            color: white;
        }
        
        .pdf-btn:hover {
            background: #D32F2F;
        }
        
        .note {
            background: #fff3cd;
            border: 1px solid #ffecb5;
            color: #856404;
            padding: 12px;
            border-radius: 6px;
            margin-top: 15px;
            font-size: 13px;
            line-height: 1.4;
        }
        
        /* роЗро░роЪрпАродрпБ ро╕рпНроЯрпИро▓рпНро╕рпН - роЕроЪрпНроЪро┐роЯрпБро╡родро▒рпНроХрпБ роПро▒рпНро▒родрпБ */
        .receipt {
            display: none;
            margin-top: 25px;
            padding: 0;
            background: white;
            border: 1px solid #ccc;
            page-break-inside: avoid;
        }
        
        .receipt-header {
            background: #f8f9fa;
            padding: 15px;
            text-align: center;
            border-bottom: 2px solid #1976D2;
        }
        
        .receipt-shop-name {
            font-size: 20px;
            font-weight: 700;
            color: #1976D2;
            margin-bottom: 5px;
        }
        
        .receipt-accreditation {
            font-size: 13px;
            color: #D32F2F;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        .receipt-address {
            font-size: 12px;
            color: #555;
            line-height: 1.3;
            margin-bottom: 3px;
        }
        
        .receipt-phone {
            font-size: 12px;
            color: #1976D2;
            font-weight: 600;
            margin-top: 5px;
        }
        
        .receipt-body {
            padding: 15px;
        }
        
        .receipt-title {
            text-align: center;
            font-size: 18px;
            color: #1976D2;
            margin-bottom: 15px;
            font-weight: 600;
            padding-bottom: 8px;
            border-bottom: 1px solid #ddd;
        }
        
        .receipt-details {
            margin-bottom: 15px;
        }
        
        .detail-row {
            display: flex;
            margin-bottom: 8px;
            padding-bottom: 8px;
            border-bottom: 1px dotted #ddd;
            font-size: 13px;
        }
        
        .detail-row:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        
        .detail-label {
            flex: 1;
            font-weight: 600;
            color: #555;
        }
        
        .detail-value {
            flex: 2;
            color: #333;
            text-align: right;
        }
        
        .status-container {
            padding: 12px;
            border-radius: 6px;
            margin: 15px 0;
            text-align: center;
            font-size: 13px;
        }
        
        .status-linked {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }
        
        .status-not-linked {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
        }
        
        .status-processing {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
        }
        
        .status-icon {
            font-size: 24px;
            margin-bottom: 5px;
        }
        
        .status-text {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .receipt-footer {
            text-align: center;
            margin-top: 15px;
            padding-top: 10px;
            border-top: 1px solid #ddd;
            color: #666;
            font-size: 11px;
        }
        
        .thank-you {
            font-size: 14px;
            color: #1976D2;
            margin-bottom: 5px;
            font-weight: 600;
        }
        
        .masked-text {
            font-family: 'Courier New', monospace;
            letter-spacing: 1px;
            font-weight: 600;
        }
        
        /* роЕроЪрпНроЪро┐роЯрпБроорпН рокрпЛродрпБ роороЯрпНроЯрпБроорпН */
        @media print {
            body {
                background: white !important;
                padding: 0 !important;
                margin: 0 !important;
            }
            
            .container {
                max-width: 100% !important;
                box-shadow: none !important;
                padding: 0 !important;
                margin: 0 !important;
            }
            
            .form-section, .instructions, .button-group, .note,
            .header, .accreditation, .tagline {
                display: none !important;
            }
            
            .receipt {
                display: block !important;
                margin: 0 !important;
                border: none !important;
                page-break-inside: avoid;
                page-break-after: avoid;
            }
            
            .receipt-header {
                background: #f8f9fa !important;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
            
            button {
                display: none !important;
            }
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .button-group {
                flex-direction: column;
            }
            
            button {
                width: 100%;
                min-width: auto;
            }
            
            .shop-name {
                font-size: 22px;
            }
            
            .form-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="shop-name">родро╛ро╕рпН рокрпКродрпБ роЪрпЗро╡рпИ роорпИропроорпН</div>
            <div class="accreditation">(роородрпНродро┐роп рооро╛роиро┐ро▓ роЕро░роЪрпБ роЕроЩрпНроХрпАроХро╛ро░роорпН рокрпЖро▒рпНро▒ рокрпКродрпБ роЪрпЗро╡рпИ роорпИропроорпН)</div>
            <div class="tagline">роЖродро╛ро░рпН-ро╡роЩрпНроХро┐роХрпН роХрогроХрпНроХрпБ роЗрогрпИрокрпНрокрпБ роЪрпЗро╡рпИ</div>
        </div>
        
        <div class="instructions">
            <h3>ро╡ро┤ро┐роорпБро▒рпИроХро│рпН:</h3>
            <ul>
                <li>роЖродро╛ро░рпН роОрогрпН, рокрпЖропро░рпН, рокро┐ро▒роирпНрод родрпЗродро┐, роорпКрокрпИро▓рпН роОрогрпН роЙро│рпНро│ро┐роЯро╡рпБроорпН</li>
                <li>ро╡роЩрпНроХро┐ ро╡ро┐ро╡ро░роЩрпНроХро│рпИ роЙро│рпНро│ро┐роЯро╡рпБроорпН</li>
                <li>"роЗрогрпИрокрпНрокрпИ роЪро░ро┐рокро╛ро░рпН" рокрпКродрпНродро╛ройрпИ роХро┐ро│ро┐роХрпН роЪрпЖропрпНропро╡рпБроорпН</li>
                <li>роЗрогрпИроХрпНроХрокрпНрокроЯро╛родро┐ро░рпБроирпНродро╛ро▓рпН "роЗрогрпИрокрпНрокрпИ роЙро░рпБро╡ро╛роХрпНроХрпБ" рокрпКродрпНродро╛ройрпИ роХро┐ро│ро┐роХрпН роЪрпЖропрпНропро╡рпБроорпН</li>
                <li>роЗро░роЪрпАродрпБ роЕроЪрпНроЪро┐роЯ роЕро▓рпНро▓родрпБ PDF роЪрпЗрооро┐роХрпНроХро╡рпБроорпН</li>
            </ul>
        </div>
        
        <!-- роЖродро╛ро░рпН ро╡ро┐ро╡ро░роЩрпНроХро│рпН -->
        <div class="form-section">
            <div class="section-title">родройро┐рокрпНрокроЯрпНроЯ ро╡ро┐ро╡ро░роЩрпНроХро│рпН</div>
            <div class="form-grid">
                <div class="form-group">
                    <label>роЖродро╛ро░рпН роОрогрпН:</label>
                    <input type="text" id="aadhaar" placeholder="12 роЗро▓роХрпНроХ роЖродро╛ро░рпН роОрогрпН" maxlength="12">
                </div>
                
                <div class="form-group">
                    <label>роорпБро┤рпБ рокрпЖропро░рпН:</label>
                    <input type="text" id="fullName" placeholder="роЖродро╛ро░ро┐ро▓рпН роЙро│рпНро│ роорпБро┤рпБ рокрпЖропро░рпН">
                </div>
                
                <div class="form-group">
                    <label>рокро┐ро▒роирпНрод родрпЗродро┐:</label>
                    <input type="date" id="dob">
                </div>
                
                <div class="form-group">
                    <label>роорпКрокрпИро▓рпН роОрогрпН:</label>
                    <div class="input-group">
                        <input type="tel" id="mobile" placeholder="10 роЗро▓роХрпНроХ роорпКрокрпИро▓рпН роОрогрпН" maxlength="10">
                        <button class="verify-btn" onclick="sendOTP()">OTP роЕройрпБрокрпНрокрпБ</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ро╡роЩрпНроХро┐ ро╡ро┐ро╡ро░роЩрпНроХро│рпН -->
        <div class="form-section">
            <div class="section-title">ро╡роЩрпНроХро┐роХрпН роХрогроХрпНроХрпБ ро╡ро┐ро╡ро░роЩрпНроХро│рпН</div>
            <div class="form-grid">
                <div class="form-group">
                    <label>ро╡роЩрпНроХро┐ рокрпЖропро░рпН:</label>
                    <select id="bankName">
                        <option value="">ро╡роЩрпНроХро┐ропрпИ родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН</option>
                        <option value="SBI">State Bank of India (SBI)</option>
                        <option value="IOB">Indian Overseas Bank (IOB)</option>
                        <option value="CANARA">Canara Bank</option>
                        <option value="ICICI">ICICI Bank</option>
                        <option value="HDFC">HDFC Bank</option>
                        <option value="PNB">Punjab National Bank (PNB)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>роХро┐ро│рпИ рокрпЖропро░рпН:</label>
                    <input type="text" id="branchName" placeholder="роХро┐ро│рпИ рокрпЖропро░рпН">
                </div>
                
                <div class="form-group">
                    <label>роХрогроХрпНроХрпБ роОрогрпН:</label>
                    <input type="text" id="accountNumber" placeholder="ро╡роЩрпНроХро┐роХрпН роХрогроХрпНроХрпБ роОрогрпН">
                </div>
                
                <div class="form-group">
                    <label>IFSC роХрпБро▒ро┐ропрпАроЯрпБ:</label>
                    <input type="text" id="ifscCode" placeholder="IFSC роХрпБро▒ро┐ропрпАроЯрпБ">
                </div>
                
                <div class="form-group">
                    <label>OTP:</label>
                    <div class="input-group">
                        <input type="text" id="otp" placeholder="OTP роЙро│рпНро│ро┐роЯро╡рпБроорпН" maxlength="6">
                        <button class="verify-btn" onclick="verifyOTP()">OTP роЪро░ро┐рокро╛ро░рпН</button>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="button-group">
            <button class="check-btn" onclick="checkLinkage()">
                <span>ЁЯФН</span> роЗрогрпИрокрпНрокрпИ роЪро░ро┐рокро╛ро░рпН
            </button>
            <button class="link-btn" onclick="linkAccount()" id="linkBtn" disabled>
                <span>ЁЯФЧ</span> роЗрогрпИрокрпНрокрпИ роЙро░рпБро╡ро╛роХрпНроХрпБ
            </button>
            <button class="receipt-btn" onclick="printReceipt()" id="receiptBtn" disabled>
                <span>ЁЯЦия╕П</span> роЗро░роЪрпАродрпБ роЕроЪрпНроЪро┐роЯрпБ
            </button>
        </div>
        
        <div class="note">
            <strong>роХрпБро▒ро┐рокрпНрокрпБ:</strong> роЗродрпБ роТро░рпБ рооро╛родро┐ро░ро┐ рокропройрпНрокро╛роЯрпБ роороЯрпНроЯрпБроорпЗ. роЙрогрпНроорпИропро╛рой роЖродро╛ро░рпН-ро╡роЩрпНроХро┐ роЗрогрпИрокрпНрокро┐ро▒рпНроХрпБ роЕродро┐роХро╛ро░рокрпНрокрпВро░рпНро╡ ро╡роЩрпНроХро┐/роЕроЮрпНроЪро▓рпН роЕро▓рпБро╡ро▓роХроЩрпНроХро│рпИ роЕрогрпБроХро╡рпБроорпН.
        </div>
        
        <!-- роЗро░роЪрпАродрпБ -->
        <div id="receipt" class="receipt">
            <div class="receipt-header">
                <div class="receipt-shop-name">родро╛ро╕рпН рокрпКродрпБ роЪрпЗро╡рпИ роорпИропроорпН</div>
                <div class="receipt-accreditation">(роородрпНродро┐роп рооро╛роиро┐ро▓ роЕро░роЪрпБ роЕроЩрпНроХрпАроХро╛ро░роорпН рокрпЖро▒рпНро▒ рокрпКродрпБ роЪрпЗро╡рпИ роорпИропроорпН)</div>
                <div class="receipt-address">147роО, роХро┐ро░рпЗроЯрпН роХро╛роЯрпНроЯройрпН ро░рпЛроЯрпБ, роородрпНродро┐роп рокро╛роХроорпН роХро╛ро╡ро▓рпН роиро┐ро▓рпИропроорпН роОродро┐ро░ро┐ро▓рпН</div>
                <div class="receipt-address">родрпВродрпНродрпБроХрпНроХрпБроЯро┐ - 628001, родрооро┐ро┤рпНроиро╛роЯрпБ</div>
                <div class="receipt-phone">роЪрпЖро▓рпН: 98 43 23 23 24 / 88 70 23 23 32</div>
            </div>
            
            <div class="receipt-body">
                <div class="receipt-title">роЖродро╛ро░рпН-ро╡роЩрпНроХро┐роХрпН роХрогроХрпНроХрпБ роЗрогрпИрокрпНрокрпБ роЪро╛ройрпНро▒ро┐родро┤рпН</div>
                
                <div class="receipt-details">
                    <div class="detail-row">
                        <div class="detail-label">рокро░ро┐ро╡ро░рпНродрпНродройрпИ роОрогрпН:</div>
                        <div class="detail-value" id="txnId">BA202400000001</div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">родрпЗродро┐:</div>
                        <div class="detail-value" id="currentDate"></div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">роирпЗро░роорпН:</div>
                        <div class="detail-value" id="currentTime"></div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">ро╡ро╛роЯро┐роХрпНроХрпИропро╛ро│ро░рпН рокрпЖропро░рпН:</div>
                        <div class="detail-value" id="receiptCustomerName"></div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">роЖродро╛ро░рпН роОрогрпН:</div>
                        <div class="detail-value" id="receiptAadhaar" class="masked-text"></div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">ро╡роЩрпНроХро┐ рокрпЖропро░рпН:</div>
                        <div class="detail-value" id="receiptBankName"></div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">роХрогроХрпНроХрпБ роОрогрпН:</div>
                        <div class="detail-value" id="receiptAccountNo" class="masked-text"></div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">IFSC роХрпБро▒ро┐ропрпАроЯрпБ:</div>
                        <div class="detail-value" id="receiptIFSC"></div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">роХроЯрпНроЯрогроорпН:</div>
                        <div class="detail-value">тВ╣ 50.00 (GST роЙроЯрпНрокроЯ)</div>
                    </div>
                </div>
                
                <div id="statusDisplay" class="status-container">
                    <!-- роЗрогрпИрокрпНрокрпБ роиро┐ро▓рпИ -->
                </div>
                
                <div class="receipt-footer">
                    <div class="thank-you">роЖродро╛ро░рпН-ро╡роЩрпНроХро┐ роЗрогрпИрокрпНрокрпБ роЪрпЗро╡рпИ</div>
                    <div>роЗроирпНрод роЪро╛ройрпНро▒ро┐родро┤рпН роХрогро┐ройро┐ роорпВро▓роорпН роЙро░рпБро╡ро╛роХрпНроХрокрпНрокроЯрпНроЯродрпБ</div>
                    <div>роЪрпЖро▓рпНро▓рпБрокроЯро┐ропро╛роХрпБроорпН роХро╛ро▓роорпН: роЗрогрпИрокрпНрокрпБ роирпАроХрпНроХроорпН ро╡ро░рпИ</div>
                    <div style="margin-top: 5px; font-size: 10px; color: #999;">
                        рокро╛родрпБроХро╛рокрпНрокрпБ роХро╛ро░рогроЩрпНроХро│рпБроХрпНроХро╛роХ роЪро┐ро▓ роОрогрпНроХро│рпН рооро▒рпИроХрпНроХрокрпНрокроЯрпНроЯрпБро│рпНро│рой
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        let isOTPVerified = false;
        let isLinked = false;
        let otpSent = false;
        let generatedOTP = '';
        
        function updateDateTime() {
            const now = new Date();
            const dateOptions = { year: 'numeric', month: 'short', day: 'numeric' };
            const timeOptions = { hour: '2-digit', minute: '2-digit', hour12: false };
            
            const date = now.toLocaleDateString('ta-IN', dateOptions);
            const time = now.toLocaleTimeString('ta-IN', timeOptions);
            
            document.getElementById('currentDate').textContent = date;
            document.getElementById('currentTime').textContent = time;
            
            const txnId = 'BA' + now.getFullYear() + 
                         String(now.getMonth() + 1).padStart(2, '0') +
                         String(now.getDate()).padStart(2, '0') +
                         String(now.getHours()).padStart(2, '0') +
                         String(now.getMinutes()).padStart(2, '0');
            document.getElementById('txnId').textContent = txnId;
        }
        
        function maskAadhaar(aadhaar) {
            if (aadhaar.length !== 12) return aadhaar;
            const part1 = aadhaar.substring(0, 4);
            const part2 = 'xxxx';
            const part3 = aadhaar.substring(8);
            return part1 + ' ' + part2 + ' ' + part3;
        }
        
        function maskAccountNumber(accountNo) {
            if (accountNo.length < 9) return accountNo;
            const visibleDigits = 4;
            const maskedPart = 'x'.repeat(accountNo.length - visibleDigits * 2);
            return accountNo.substring(0, visibleDigits) + maskedPart + 
                   accountNo.substring(accountNo.length - visibleDigits);
        }
        
        function sendOTP() {
            const mobile = document.getElementById('mobile').value.trim();
            
            if (!mobile || mobile.length !== 10 || !/^\d+$/.test(mobile)) {
                alert('роЪрпЖро▓рпНро▓рпБрокроЯро┐ропро╛роХрпБроорпН 10-роЗро▓роХрпНроХ роорпКрокрпИро▓рпН роОрогрпНрогрпИ роЙро│рпНро│ро┐роЯро╡рпБроорпН');
                return;
            }
            
            generatedOTP = Math.floor(100000 + Math.random() * 900000).toString();
            
            setTimeout(() => {
                alert(`OTP роЕройрпБрокрпНрокрокрпНрокроЯрпНроЯродрпБ: ${generatedOTP}\n(роЯрпЖроорпЛ: роЙрогрпНроорпИропро┐ро▓рпН SMS роЕройрпБрокрпНрокрокрпНрокроЯрпБроорпН)`);
                otpSent = true;
            }, 500);
        }
        
        function verifyOTP() {
            const enteredOTP = document.getElementById('otp').value.trim();
            
            if (!otpSent) {
                alert('роорпБродро▓ро┐ро▓рпН OTP роЕройрпБрокрпНрокро╡рпБроорпН');
                return;
            }
            
            if (enteredOTP === generatedOTP) {
                isOTPVerified = true;
                alert('OTP роЪро░ро┐рокро╛ро░рпНрокрпНрокрпБ ро╡рпЖро▒рпНро▒ро┐роХро░рооро╛роХ роорпБроЯро┐роирпНродродрпБ!');
                document.getElementById('linkBtn').disabled = false;
                document.getElementById('linkBtn').style.opacity = '1';
            } else {
                alert('родро╡ро▒ро╛рой OTP. роорпАрогрпНроЯрпБроорпН роорпБропро▒рпНроЪро┐роХрпНроХро╡рпБроорпН');
                isOTPVerified = false;
            }
        }
        
        function validateForm() {
            const aadhaar = document.getElementById('aadhaar').value.trim();
            const fullName = document.getElementById('fullName').value.trim();
            const dob = document.getElementById('dob').value;
            const mobile = document.getElementById('mobile').value.trim();
            const bankName = document.getElementById('bankName').value;
            const branchName = document.getElementById('branchName').value.trim();
            const accountNumber = document.getElementById('accountNumber').value.trim();
            const ifscCode = document.getElementById('ifscCode').value.trim();
            
            if (!aadhaar || aadhaar.length !== 12 || !/^\d+$/.test(aadhaar)) {
                alert('роЪрпЖро▓рпНро▓рпБрокроЯро┐ропро╛роХрпБроорпН 12-роЗро▓роХрпНроХ роЖродро╛ро░рпН роОрогрпНрогрпИ роЙро│рпНро│ро┐роЯро╡рпБроорпН');
                return false;
            }
            
            if (!fullName) {
                alert('роорпБро┤рпБ рокрпЖропро░рпИ роЙро│рпНро│ро┐роЯро╡рпБроорпН');
                return false;
            }
            
            if (!dob) {
                alert('рокро┐ро▒роирпНрод родрпЗродро┐ропрпИ родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН');
                return false;
            }
            
            if (!mobile || mobile.length !== 10 || !/^\d+$/.test(mobile)) {
                alert('роЪрпЖро▓рпНро▓рпБрокроЯро┐ропро╛роХрпБроорпН 10-роЗро▓роХрпНроХ роорпКрокрпИро▓рпН роОрогрпНрогрпИ роЙро│рпНро│ро┐роЯро╡рпБроорпН');
                return false;
            }
            
            if (!bankName) {
                alert('ро╡роЩрпНроХро┐ропрпИ родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН');
                return false;
            }
            
            if (!branchName) {
                alert('роХро┐ро│рпИ рокрпЖропро░рпИ роЙро│рпНро│ро┐роЯро╡рпБроорпН');
                return false;
            }
            
            if (!accountNumber || accountNumber.length < 9 || accountNumber.length > 18 || !/^\d+$/.test(accountNumber)) {
                alert('роЪрпЖро▓рпНро▓рпБрокроЯро┐ропро╛роХрпБроорпН роХрогроХрпНроХрпБ роОрогрпНрогрпИ роЙро│рпНро│ро┐роЯро╡рпБроорпН (9-18 роЗро▓роХрпНроХроЩрпНроХро│рпН)');
                return false;
            }
            
            if (!ifscCode || !/^[A-Z]{4}0[A-Z0-9]{6}$/.test(ifscCode)) {
                alert('роЪрпЖро▓рпНро▓рпБрокроЯро┐ропро╛роХрпБроорпН IFSC роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ роЙро│рпНро│ро┐роЯро╡рпБроорпН');
                return false;
            }
            
            return true;
        }
        
        function checkLinkage() {
            if (!validateForm()) return;
            
            updateDateTime();
            
            const receiptAadhaar = document.getElementById('receiptAadhaar');
            const receiptCustomerName = document.getElementById('receiptCustomerName');
            const receiptBankName = document.getElementById('receiptBankName');
            const receiptAccountNo = document.getElementById('receiptAccountNo');
            const receiptIFSC = document.getElementById('receiptIFSC');
            
            const aadhaar = document.getElementById('aadhaar').value.trim();
            const fullName = document.getElementById('fullName').value.trim();
            const bankName = document.getElementById('bankName').value;
            const accountNumber = document.getElementById('accountNumber').value.trim();
            const ifscCode = document.getElementById('ifscCode').value.trim();
            const branchSelect = document.getElementById('bankName');
            
            const maskedAadhaar = maskAadhaar(aadhaar);
            const maskedAccountNo = maskAccountNumber(accountNumber);
            
            receiptAadhaar.textContent = maskedAadhaar;
            receiptCustomerName.textContent = fullName;
            receiptBankName.textContent = branchSelect.options[branchSelect.selectedIndex].text;
            receiptAccountNo.textContent = maskedAccountNo;
            receiptIFSC.textContent = ifscCode.toUpperCase();
            
            const statusDisplay = document.getElementById('statusDisplay');
            
            const isCurrentlyLinked = Math.random() > 0.7;
            
            if (isCurrentlyLinked) {
                statusDisplay.innerHTML = `
                    <div class="status-icon">тЬЕ</div>
                    <div class="status-text">роЖродро╛ро░рпН роПро▒рпНроХройро╡рпЗ ро╡роЩрпНроХро┐роХрпН роХрогроХрпНроХрпБроЯройрпН роЗрогрпИроХрпНроХрокрпНрокроЯрпНроЯрпБро│рпНро│родрпБ</div>
                    <div class="status-message">
                        роЗрогрпИрокрпНрокрпБ родрпЗродро┐: ${getRandomPastDate()} | URN: ${Date.now().toString().slice(-8)}
                    </div>
                `;
                statusDisplay.className = 'status-container status-linked';
                isLinked = true;
                enableReceiptButtons();
            } else {
                statusDisplay.innerHTML = `
                    <div class="status-icon">тЭМ</div>
                    <div class="status-text">роЖродро╛ро░рпН ро╡роЩрпНроХро┐роХрпН роХрогроХрпНроХрпБроЯройрпН роЗрогрпИроХрпНроХрокрпНрокроЯро╡ро┐ро▓рпНро▓рпИ</div>
                    <div class="status-message">
                        "роЗрогрпИрокрпНрокрпИ роЙро░рпБро╡ро╛роХрпНроХрпБ" рокрпКродрпНродро╛ройрпИ роХро┐ро│ро┐роХрпН роЪрпЖропрпНропро╡рпБроорпН
                    </div>
                `;
                statusDisplay.className = 'status-container status-not-linked';
                isLinked = false;
                document.getElementById('linkBtn').disabled = !isOTPVerified;
            }
            
            document.getElementById('receipt').style.display = 'block';
            document.getElementById('receipt').scrollIntoView({ behavior: 'smooth' });
        }
        
        function linkAccount() {
            if (!validateForm()) return;
            
            if (!isOTPVerified) {
                alert('роорпБродро▓ро┐ро▓рпН OPT роЪро░ро┐рокро╛ро░рпНрокрпНрокрпИ роорпБроЯро┐роХрпНроХро╡рпБроорпН');
                return;
            }
            
            const statusDisplay = document.getElementById('statusDisplay');
            
            statusDisplay.innerHTML = `
                <div class="status-icon">тП│</div>
                <div class="status-text">роЗрогрпИрокрпНрокрпБ роЪрпЖропро▓рпНрокро╛роЯрпНроЯро┐ро▓рпН роЙро│рпНро│родрпБ...</div>
                <div class="status-message">родропро╡рпБ роЪрпЖропрпНродрпБ роХро╛родрпНродро┐ро░рпБроХрпНроХро╡рпБроорпН...</div>
            `;
            statusDisplay.className = 'status-container status-processing';
            
            setTimeout(() => {
                statusDisplay.innerHTML = `
                    <div class="status-icon">тЬЕ</div>
                    <div class="status-text">ро╡рпЖро▒рпНро▒ро┐роХро░рооро╛роХ роЗрогрпИроХрпНроХрокрпНрокроЯрпНроЯродрпБ!</div>
                    <div class="status-message">
                        рокро░ро┐ро╡ро░рпНродрпНродройрпИ ID: BA${Date.now().toString().slice(-10)}<br>
                        роЗрогрпИрокрпНрокрпБ родрпЗродро┐: ${new Date().toLocaleDateString('ta-IN')}
                    </div>
                `;
                statusDisplay.className = 'status-container status-linked';
                
                isLinked = true;
                enableReceiptButtons();
                
                alert('роЖродро╛ро░рпН ро╡рпЖро▒рпНро▒ро┐роХро░рооро╛роХ ро╡роЩрпНроХро┐роХрпН роХрогроХрпНроХрпБроЯройрпН роЗрогрпИроХрпНроХрокрпНрокроЯрпНроЯродрпБ!');
                
                updateDateTime();
            }, 2000);
        }
        
        function enableReceiptButtons() {
            document.getElementById('receiptBtn').disabled = false;
            document.getElementById('receiptBtn').style.opacity = '1';
        }
        
        function printReceipt() {
            if (!isLinked) {
                alert('роорпБродро▓ро┐ро▓рпН роЖродро╛ро░рпИ ро╡роЩрпНроХро┐роХрпН роХрогроХрпНроХрпБроЯройрпН роЗрогрпИроХрпНроХро╡рпБроорпН');
                return;
            }
            
            document.getElementById('receipt').style.display = 'block';
            
            setTimeout(() => {
                window.print();
            }, 500);
        }
        
        function getRandomPastDate() {
            const start = new Date(2020, 0, 1);
            const end = new Date();
            const date = new Date(start.getTime() + Math.random() * (end.getTime() - start.getTime()));
            return date.toLocaleDateString('ta-IN');
        }
        
        // рокроЯро┐ро╡ роЪро░ро┐рокро╛ро░рпНрокрпНрокрпБроХро│рпН
        window.onload = function() {
            updateDateTime();
            
            document.getElementById('aadhaar').addEventListener('input', function(e) {
                this.value = this.value.replace(/\D/g, '');
                if (this.value.length > 12) {
                    this.value = this.value.substring(0, 12);
                }
            });
            
            document.getElementById('mobile').addEventListener('input', function(e) {
                this.value = this.value.replace(/\D/g, '');
                if (this.value.length > 10) {
                    this.value = this.value.substring(0, 10);
                }
            });
            
            document.getElementById('accountNumber').addEventListener('input', function(e) {
                this.value = this.value.replace(/\D/g, '');
            });
            
            document.getElementById('ifscCode').addEventListener('input', function(e) {
                this.value = this.value.toUpperCase().replace(/[^A-Z0-9]/g, '');
            });
            
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('dob').setAttribute('max', today);
        };
    </script>
</body>
</html>